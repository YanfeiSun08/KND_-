O9200 (外圆加工) ;
(判断程序调用方法) ;
IF [ ! ISNULL[#16] ] GOTO 10 ( G65调用 ) ;
PARAMS[r1,r2,r3,r7,r11] ; (与主程序CALL配对使用) ;
N10 (判断程序调用结束) ;
(子程序局部变量赋值与程序使用变量) ;
#201 = #1  (起点台阶) ;
#202 = #2  (终点台阶) ;
#203 = #3  (台阶计数变量号) ;
#207 = #7  (加工计数变量号) ;
#211 = #11 (模式选择) ;
(变量赋值结束) ;
# [ [INT] #203 ] = 1 ( 初始化台阶数 ) ;
G54 ;
G01 X#501 F1000 ;
IF [ #211 != 1 ] GOTO 2100 ( 加工模式判断 ) ;
#264 = #201 ;
IF [ #264 != [INT]#201 ]  THEN ERR[0, "外圆初始值不是整数"] ；
WHILE [ #264 <= #2 ] DO1 ;
#[ [INT] #3] = #264 ( 当前台阶数赋值 ) ;
GOTO [ #264 * 100 ] ( 跳到当前台阶加工 );
N100 ;
(台阶一) ;
( 端面磨削 ) ;
G65 P9210 ;
( 外圆粗磨 ) ;
G65 P9220 ;
( 外圆精磨 ) ;
G65 P9230 ;
( 外圆光磨 ) ;
G65 P9240 ;
GOTO 2000 ;
N200 ;
(台阶二) ;

GOTO 2000 ;
N300 ;
(台阶三) ;

GOTO 2000 ;
N400 ;
(台阶四) ;

GOTO 2000 ;
N500 ;
(台阶五) ;

GOTO 2000 ;
N600 ;
(台阶六) ;

GOTO 2000 ;
N700 ;
(台阶七) ;

GOTO 2000 ;
N800 ;
(台阶八) ;

GOTO 2000 ;
N1000 ;
(台阶九) ;

GOTO 2000 ;
N2000 ;
#264 = #264+1 ;
END1 ;
IF [ ISNULL [ #[ [INT] #7] ] ] THEN #[ [INT] #7 ] = 0 ;
#[ [INT] #7 ] = #[ [INT] #7]+1 ;
G01 X#501 F1000 ;
N2100 ;
M99 ;